{"ast":null,"code":"import { Trait } from '../Entity.js';\nexport default class Go extends Trait {\n  constructor() {\n    super('go');\n    this.dir = 0;\n    this.acceleration = 400;\n    this.deceleration = 300;\n    this.dragFactor = 1 / 5000;\n    this.distance = 0;\n    this.heading = 1;\n  }\n  update(entity, deltaTime) {\n    const absX = Math.abs(entity.vel.x);\n    if (this.dir !== 0) {\n      entity.vel.x += this.acceleration * this.dir * deltaTime;\n      if (entity.jump) {\n        if (entity.jump.falling === false) {\n          this.heading = this.dir;\n        }\n      } else {\n        this.heading = this.dir;\n      }\n    } else if (entity.vel.x !== 0) {\n      const decel = Math.min(absX, this.deceleration * deltaTime);\n      entity.vel.x += entity.vel.x > 0 ? -decel : decel;\n    } else {\n      this.distance = 0;\n    }\n    const drag = this.dragFactor * entity.vel.x * absX;\n    entity.vel.x -= drag;\n    this.distance += absX * deltaTime;\n  }\n}","map":{"version":3,"names":["Trait","Go","constructor","dir","acceleration","deceleration","dragFactor","distance","heading","update","entity","deltaTime","absX","Math","abs","vel","x","jump","falling","decel","min","drag"],"sources":["/home/kaiyang7766/Desktop/portfolio/src/js/traits/Go.js"],"sourcesContent":["import {Trait} from '../Entity.js';\n\nexport default class Go extends Trait{\n\tconstructor(){\n\t\tsuper('go');\n\n\t\tthis.dir=0;\n\t\tthis.acceleration=400;\n\t\tthis.deceleration=300;\n\t\tthis.dragFactor=1/5000;\n\n\t\tthis.distance =0;\n\t\tthis.heading=1;\n\t}\n\n\tupdate(entity,deltaTime){\n\t\tconst absX=Math.abs(entity.vel.x);\n\t\tif (this.dir!==0){\n\t\t\tentity.vel.x+=this.acceleration*this.dir*deltaTime;\n\n\t\t\tif (entity.jump){\n\t\t\t\tif (entity.jump.falling===false){\n\t\t\t\t\tthis.heading=this.dir;\n\t\t\t\t}\n\t\t\t}else {\n\t\t\tthis.heading=this.dir;\n\t\t\t}\n\t\t} else if (entity.vel.x!==0){\n\t\t\tconst decel=Math.min(absX,this.deceleration*deltaTime);\n\t\t\tentity.vel.x+=entity.vel.x>0 ? -decel:decel;\n\t\t}\n\t\telse {\n\t\t\tthis.distance=0;\n\t\t}\n\n\t\tconst drag=this.dragFactor*entity.vel.x*absX;\n\t\tentity.vel.x-=drag;\n\n\t\tthis.distance+=absX*(deltaTime);\n\t}\n}"],"mappings":"AAAA,SAAQA,KAAK,QAAO,cAAc;AAElC,eAAe,MAAMC,EAAE,SAASD,KAAK;EACpCE,WAAW,GAAE;IACZ,KAAK,CAAC,IAAI,CAAC;IAEX,IAAI,CAACC,GAAG,GAAC,CAAC;IACV,IAAI,CAACC,YAAY,GAAC,GAAG;IACrB,IAAI,CAACC,YAAY,GAAC,GAAG;IACrB,IAAI,CAACC,UAAU,GAAC,CAAC,GAAC,IAAI;IAEtB,IAAI,CAACC,QAAQ,GAAE,CAAC;IAChB,IAAI,CAACC,OAAO,GAAC,CAAC;EACf;EAEAC,MAAM,CAACC,MAAM,EAACC,SAAS,EAAC;IACvB,MAAMC,IAAI,GAACC,IAAI,CAACC,GAAG,CAACJ,MAAM,CAACK,GAAG,CAACC,CAAC,CAAC;IACjC,IAAI,IAAI,CAACb,GAAG,KAAG,CAAC,EAAC;MAChBO,MAAM,CAACK,GAAG,CAACC,CAAC,IAAE,IAAI,CAACZ,YAAY,GAAC,IAAI,CAACD,GAAG,GAACQ,SAAS;MAElD,IAAID,MAAM,CAACO,IAAI,EAAC;QACf,IAAIP,MAAM,CAACO,IAAI,CAACC,OAAO,KAAG,KAAK,EAAC;UAC/B,IAAI,CAACV,OAAO,GAAC,IAAI,CAACL,GAAG;QACtB;MACD,CAAC,MAAK;QACN,IAAI,CAACK,OAAO,GAAC,IAAI,CAACL,GAAG;MACrB;IACD,CAAC,MAAM,IAAIO,MAAM,CAACK,GAAG,CAACC,CAAC,KAAG,CAAC,EAAC;MAC3B,MAAMG,KAAK,GAACN,IAAI,CAACO,GAAG,CAACR,IAAI,EAAC,IAAI,CAACP,YAAY,GAACM,SAAS,CAAC;MACtDD,MAAM,CAACK,GAAG,CAACC,CAAC,IAAEN,MAAM,CAACK,GAAG,CAACC,CAAC,GAAC,CAAC,GAAG,CAACG,KAAK,GAACA,KAAK;IAC5C,CAAC,MACI;MACJ,IAAI,CAACZ,QAAQ,GAAC,CAAC;IAChB;IAEA,MAAMc,IAAI,GAAC,IAAI,CAACf,UAAU,GAACI,MAAM,CAACK,GAAG,CAACC,CAAC,GAACJ,IAAI;IAC5CF,MAAM,CAACK,GAAG,CAACC,CAAC,IAAEK,IAAI;IAElB,IAAI,CAACd,QAAQ,IAAEK,IAAI,GAAED,SAAU;EAChC;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}