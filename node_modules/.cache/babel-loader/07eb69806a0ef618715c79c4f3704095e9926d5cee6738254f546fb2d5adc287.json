{"ast":null,"code":"import Entity from './Entity.js';\nimport Go from './traits/Go.js';\nimport Jump from './traits/Jump.js';\nimport { loadSpriteSheet } from './loaders.js';\nimport { createAnim } from './anim.js';\nexport function createMario() {\n  return loadSpriteSheet('mario').then(sprite => {\n    const mario = new Entity();\n    mario.size.set(50, 50);\n    mario.addTrait(new Go());\n    mario.addTrait(new Jump());\n    const runAim = createAnim(['run-1', 'run-2'], 15);\n    function routeFrame(mario) {\n      if (mario.jump.falling) {\n        return 'jump';\n      }\n      if (mario.go.dir !== 0) {\n        if (mario.vel.x > 0 && mario.go.dir < 0 || mario.vel.x < 0 && mario.go.dir > 0) {\n          return 'break';\n        }\n        return runAim(mario.go.distance);\n      }\n      return 'player';\n    }\n    mario.draw = function drawMario(context) {\n      sprite.draw(routeFrame(mario), context, 0, 0, this.go.heading < 0);\n    };\n    return mario;\n  });\n}","map":{"version":3,"names":["Entity","Go","Jump","loadSpriteSheet","createAnim","createMario","then","sprite","mario","size","set","addTrait","runAim","routeFrame","jump","falling","go","dir","vel","x","distance","draw","drawMario","context","heading"],"sources":["/home/kaiyang7766/Desktop/portfolio/src/js/entities.js"],"sourcesContent":["import Entity from './Entity.js';\nimport Go from './traits/Go.js';\nimport Jump from './traits/Jump.js';\nimport {loadSpriteSheet} from './loaders.js';\nimport {createAnim} from './anim.js';\n\nexport function createMario(){\n\treturn loadSpriteSheet('mario')\n\t.then(sprite=>{\n\t\tconst mario = new Entity();\n\t\tmario.size.set(50,50);\n\t\t\n\t\tmario.addTrait(new Go());\n\t\tmario.addTrait(new Jump());\n\n\t\tconst runAim=createAnim(['run-1','run-2'],15);\n\n\t\tfunction routeFrame(mario){\n\t\t\tif (mario.jump.falling){\n\t\t\t\treturn 'jump';\n\t\t\t}\n\t\t\tif (mario.go.dir!==0){\n\t\t\t\tif ((mario.vel.x>0&&mario.go.dir<0)||(mario.vel.x<0&&mario.go.dir>0)){\n\t\t\t\t\treturn 'break';\n\t\t\t\t}\n\t\t\t\treturn runAim(mario.go.distance);\n\t\t\t}\n\t\t\treturn 'player';\n\t\t}\n\n\t\tmario.draw=function drawMario(context){\n\t\t\tsprite.draw(routeFrame(mario),context,0,0,this.go.heading<0);\n\t\t}\n\n\t\treturn mario;\n\t});\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,aAAa;AAChC,OAAOC,EAAE,MAAM,gBAAgB;AAC/B,OAAOC,IAAI,MAAM,kBAAkB;AACnC,SAAQC,eAAe,QAAO,cAAc;AAC5C,SAAQC,UAAU,QAAO,WAAW;AAEpC,OAAO,SAASC,WAAW,GAAE;EAC5B,OAAOF,eAAe,CAAC,OAAO,CAAC,CAC9BG,IAAI,CAACC,MAAM,IAAE;IACb,MAAMC,KAAK,GAAG,IAAIR,MAAM,EAAE;IAC1BQ,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,EAAE,EAAC,EAAE,CAAC;IAErBF,KAAK,CAACG,QAAQ,CAAC,IAAIV,EAAE,EAAE,CAAC;IACxBO,KAAK,CAACG,QAAQ,CAAC,IAAIT,IAAI,EAAE,CAAC;IAE1B,MAAMU,MAAM,GAACR,UAAU,CAAC,CAAC,OAAO,EAAC,OAAO,CAAC,EAAC,EAAE,CAAC;IAE7C,SAASS,UAAU,CAACL,KAAK,EAAC;MACzB,IAAIA,KAAK,CAACM,IAAI,CAACC,OAAO,EAAC;QACtB,OAAO,MAAM;MACd;MACA,IAAIP,KAAK,CAACQ,EAAE,CAACC,GAAG,KAAG,CAAC,EAAC;QACpB,IAAKT,KAAK,CAACU,GAAG,CAACC,CAAC,GAAC,CAAC,IAAEX,KAAK,CAACQ,EAAE,CAACC,GAAG,GAAC,CAAC,IAAIT,KAAK,CAACU,GAAG,CAACC,CAAC,GAAC,CAAC,IAAEX,KAAK,CAACQ,EAAE,CAACC,GAAG,GAAC,CAAE,EAAC;UACpE,OAAO,OAAO;QACf;QACA,OAAOL,MAAM,CAACJ,KAAK,CAACQ,EAAE,CAACI,QAAQ,CAAC;MACjC;MACA,OAAO,QAAQ;IAChB;IAEAZ,KAAK,CAACa,IAAI,GAAC,SAASC,SAAS,CAACC,OAAO,EAAC;MACrChB,MAAM,CAACc,IAAI,CAACR,UAAU,CAACL,KAAK,CAAC,EAACe,OAAO,EAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAACP,EAAE,CAACQ,OAAO,GAAC,CAAC,CAAC;IAC7D,CAAC;IAED,OAAOhB,KAAK;EACb,CAAC,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}