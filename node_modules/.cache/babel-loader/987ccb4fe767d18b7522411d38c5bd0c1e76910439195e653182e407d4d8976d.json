{"ast":null,"code":"import { Sides, Trait } from '../Entity.js';\nexport default class Jump extends Trait {\n  constructor() {\n    super('jump');\n    this.ready = 0;\n    this.duration = 0.5;\n    this.velocity = 200;\n    this.engageTime = 0;\n    this.requestTime = 0;\n    this.gracePeriod = 0.1;\n    this.speedBoost = 0.1;\n  }\n  get falling() {\n    return this.ready < 0;\n  }\n  start() {\n    this.requestTime = this.gracePeriod;\n  }\n  cancel() {\n    this.engageTime = 0;\n    this.requestTime = 0;\n  }\n  obstruct(entity, side) {\n    if (side === Sides.BOTTOM) {\n      this.ready = 1;\n    } else if (side === Sides.TOP) {\n      this.cancel();\n    }\n  }\n  update(entity, deltaTime) {\n    if (this.requestTime > 0) {\n      if (this.ready > 0) {\n        this.engageTime = 0.3;\n        this.requestTime = 0;\n      }\n      this.requestTime -= deltaTime;\n    }\n    if (this.engageTime > 0) {\n      entity.vel.y = -this.velocity + Math.abs(entity.vel.x) * this.speedBoost;\n      this.engageTime -= deltaTime;\n    }\n    this.ready--;\n  }\n}","map":{"version":3,"names":["Sides","Trait","Jump","constructor","ready","duration","velocity","engageTime","requestTime","gracePeriod","speedBoost","falling","start","cancel","obstruct","entity","side","BOTTOM","TOP","update","deltaTime","vel","y","Math","abs","x"],"sources":["/home/kaiyang7766/Desktop/portfolio/src/js/traits/Jump.js"],"sourcesContent":["import {Sides,Trait} from '../Entity.js';\n\nexport default class Jump extends Trait{\n\tconstructor(){\n\t\tsuper('jump');\n\n\t\tthis.ready=0;\n\t\tthis.duration=0.5;\n\t\tthis.velocity=200;\n\t\tthis.engageTime=0;\n\t\tthis.requestTime=0;\n\t\tthis.gracePeriod=0.1;\n\t\tthis.speedBoost=0.1;\n\t}\n\n\tget falling(){\n\t\treturn this.ready <0;\n\t}\n\n\tstart(){\n\t\tthis.requestTime=this.gracePeriod;\n\t}\n\n\tcancel(){\n\t\tthis.engageTime=0;\n\t\tthis.requestTime=0;\n\t}\n\n\tobstruct(entity, side){\n\t\tif (side===Sides.BOTTOM){\n\t\t\tthis.ready=1;\n\t\t} else if (side===Sides.TOP){\n\t\t\tthis.cancel();\n\t\t}\n\t}\n\n\tupdate(entity,deltaTime){\n\t\tif (this.requestTime>0){\n\t\t\tif (this.ready>0){\n\t\t\t\tthis.engageTime=0.3;\n\t\t\t\tthis.requestTime=0;\n\t\t\t}\n\n\t\t\tthis.requestTime-=deltaTime;\n\t\t}\n\t\tif (this.engageTime>0){\n\t\t\tentity.vel.y=-this.velocity+Math.abs(entity.vel.x)*this.speedBoost;\n\t\t\tthis.engageTime-=deltaTime;\n\t\t}\n\n\t\tthis.ready--;\n\t}\n}"],"mappings":"AAAA,SAAQA,KAAK,EAACC,KAAK,QAAO,cAAc;AAExC,eAAe,MAAMC,IAAI,SAASD,KAAK;EACtCE,WAAW,GAAE;IACZ,KAAK,CAAC,MAAM,CAAC;IAEb,IAAI,CAACC,KAAK,GAAC,CAAC;IACZ,IAAI,CAACC,QAAQ,GAAC,GAAG;IACjB,IAAI,CAACC,QAAQ,GAAC,GAAG;IACjB,IAAI,CAACC,UAAU,GAAC,CAAC;IACjB,IAAI,CAACC,WAAW,GAAC,CAAC;IAClB,IAAI,CAACC,WAAW,GAAC,GAAG;IACpB,IAAI,CAACC,UAAU,GAAC,GAAG;EACpB;EAEA,IAAIC,OAAO,GAAE;IACZ,OAAO,IAAI,CAACP,KAAK,GAAE,CAAC;EACrB;EAEAQ,KAAK,GAAE;IACN,IAAI,CAACJ,WAAW,GAAC,IAAI,CAACC,WAAW;EAClC;EAEAI,MAAM,GAAE;IACP,IAAI,CAACN,UAAU,GAAC,CAAC;IACjB,IAAI,CAACC,WAAW,GAAC,CAAC;EACnB;EAEAM,QAAQ,CAACC,MAAM,EAAEC,IAAI,EAAC;IACrB,IAAIA,IAAI,KAAGhB,KAAK,CAACiB,MAAM,EAAC;MACvB,IAAI,CAACb,KAAK,GAAC,CAAC;IACb,CAAC,MAAM,IAAIY,IAAI,KAAGhB,KAAK,CAACkB,GAAG,EAAC;MAC3B,IAAI,CAACL,MAAM,EAAE;IACd;EACD;EAEAM,MAAM,CAACJ,MAAM,EAACK,SAAS,EAAC;IACvB,IAAI,IAAI,CAACZ,WAAW,GAAC,CAAC,EAAC;MACtB,IAAI,IAAI,CAACJ,KAAK,GAAC,CAAC,EAAC;QAChB,IAAI,CAACG,UAAU,GAAC,GAAG;QACnB,IAAI,CAACC,WAAW,GAAC,CAAC;MACnB;MAEA,IAAI,CAACA,WAAW,IAAEY,SAAS;IAC5B;IACA,IAAI,IAAI,CAACb,UAAU,GAAC,CAAC,EAAC;MACrBQ,MAAM,CAACM,GAAG,CAACC,CAAC,GAAC,CAAC,IAAI,CAAChB,QAAQ,GAACiB,IAAI,CAACC,GAAG,CAACT,MAAM,CAACM,GAAG,CAACI,CAAC,CAAC,GAAC,IAAI,CAACf,UAAU;MAClE,IAAI,CAACH,UAAU,IAAEa,SAAS;IAC3B;IAEA,IAAI,CAAChB,KAAK,EAAE;EACb;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}