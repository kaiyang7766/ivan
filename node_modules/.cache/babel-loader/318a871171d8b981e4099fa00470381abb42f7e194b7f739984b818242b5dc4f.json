{"ast":null,"code":"export default class SpriteSheet {\n  constructor(image, width, height) {\n    this.image = image;\n    this.width = width;\n    this.height = height;\n    this.tiles = new Map();\n    this.animation = new Map();\n  }\n  defineAnim(name, animation) {\n    this.animation.set(name, animation);\n  }\n  define(name, x, y, width, height) {\n    const buffers = [false, true].map(flip => {\n      const buffer = document.createElement('canvas');\n      buffer.width = width; //?\n      buffer.height = height; //?\n\n      const context = buffer.getContext('2d');\n      if (flip) {\n        context.scale(-1, 1);\n        context.translate(-width, 0);\n      }\n      context.drawImage(this.image, x,\n      //pieces\n      y, width, height, 0,\n      //coordinates\n      0, width,\n      //size\n      height);\n      return buffer;\n    });\n    this.tiles.set(name, buffers);\n  }\n  defineTile(name, x, y) {\n    this.define(name, x * this.width, y * this.height, this.width, this.height);\n  }\n  draw(name, context, x, y) {\n    let flip = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n    const buffer = this.tiles.get(name)[flip ? 1 : 0];\n    context.drawImage(buffer, x, y);\n  }\n  drawAnim(name, context, x, y, distance) {\n    const animation = this.animation.get(name);\n    this.drawtile(animation(distance), context, x, y);\n  }\n  drawtile(name, context, x, y) {\n    this.draw(name, context, x * this.width, y * this.height);\n  }\n}","map":{"version":3,"names":["SpriteSheet","constructor","image","width","height","tiles","Map","animation","defineAnim","name","set","define","x","y","buffers","map","flip","buffer","document","createElement","context","getContext","scale","translate","drawImage","defineTile","draw","get","drawAnim","distance","drawtile"],"sources":["/home/kaiyang7766/Desktop/portfolio/src/js/SpriteSheet.js"],"sourcesContent":["export default class SpriteSheet{\n\tconstructor(image,width,height){\n\t\tthis.image=image;\n\t\tthis.width=width;\n\t\tthis.height=height;\n\t\tthis.tiles=new Map();\n\t\tthis.animation=new Map();\n\t}\n\n\tdefineAnim(name,animation){\n\t\tthis.animation.set(name,animation);\n\t}\n\n\tdefine(name,x,y,width,height){\n\t\tconst buffers = [false,true].map(flip=>{\n\t\tconst buffer=document.createElement('canvas');\n\t\tbuffer.width=width; //?\n\t\tbuffer.height=height; //?\n\n\t\tconst context =buffer.getContext('2d');\n\n\t\tif (flip){\n\t\tcontext.scale(-1,1);\n\t\tcontext.translate(-width,0);\n\t\t}\n\n\t\tcontext.drawImage(\n\t\t\t\tthis.image,\n\t\t\t\tx, //pieces\n\t\t\t\ty,\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\t0, //coordinates\n\t\t\t\t0,\n\t\t\t\twidth, //size\n\t\t\t\theight);\n\t\t\treturn buffer;\n\t\t});\n\t\tthis.tiles.set(name,buffers);\n\t}\n\n\tdefineTile(name,x,y){\n\t\tthis.define(name,x*this.width,y*this.height,this.width,this.height);\n\t}\n\n\tdraw(name,context,x,y, flip=false){\n\t\tconst buffer=this.tiles.get(name)[flip?1:0];\n\t\tcontext.drawImage(buffer,x,y);\n\t}\n\n\tdrawAnim(name,context,x,y,distance){\n\t\tconst animation = this.animation.get(name);\n\t\tthis.drawtile(animation(distance),context,x,y);\n\t}\n\n\tdrawtile(name,context,x,y){\n\t\tthis.draw(name,context,x*this.width,y*this.height);\n\t}\n}"],"mappings":"AAAA,eAAe,MAAMA,WAAW;EAC/BC,WAAW,CAACC,KAAK,EAACC,KAAK,EAACC,MAAM,EAAC;IAC9B,IAAI,CAACF,KAAK,GAACA,KAAK;IAChB,IAAI,CAACC,KAAK,GAACA,KAAK;IAChB,IAAI,CAACC,MAAM,GAACA,MAAM;IAClB,IAAI,CAACC,KAAK,GAAC,IAAIC,GAAG,EAAE;IACpB,IAAI,CAACC,SAAS,GAAC,IAAID,GAAG,EAAE;EACzB;EAEAE,UAAU,CAACC,IAAI,EAACF,SAAS,EAAC;IACzB,IAAI,CAACA,SAAS,CAACG,GAAG,CAACD,IAAI,EAACF,SAAS,CAAC;EACnC;EAEAI,MAAM,CAACF,IAAI,EAACG,CAAC,EAACC,CAAC,EAACV,KAAK,EAACC,MAAM,EAAC;IAC5B,MAAMU,OAAO,GAAG,CAAC,KAAK,EAAC,IAAI,CAAC,CAACC,GAAG,CAACC,IAAI,IAAE;MACvC,MAAMC,MAAM,GAACC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC7CF,MAAM,CAACd,KAAK,GAACA,KAAK,CAAC,CAAC;MACpBc,MAAM,CAACb,MAAM,GAACA,MAAM,CAAC,CAAC;;MAEtB,MAAMgB,OAAO,GAAEH,MAAM,CAACI,UAAU,CAAC,IAAI,CAAC;MAEtC,IAAIL,IAAI,EAAC;QACTI,OAAO,CAACE,KAAK,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC;QACnBF,OAAO,CAACG,SAAS,CAAC,CAACpB,KAAK,EAAC,CAAC,CAAC;MAC3B;MAEAiB,OAAO,CAACI,SAAS,CACf,IAAI,CAACtB,KAAK,EACVU,CAAC;MAAE;MACHC,CAAC,EACDV,KAAK,EACLC,MAAM,EACN,CAAC;MAAE;MACH,CAAC,EACDD,KAAK;MAAE;MACPC,MAAM,CAAC;MACR,OAAOa,MAAM;IACd,CAAC,CAAC;IACF,IAAI,CAACZ,KAAK,CAACK,GAAG,CAACD,IAAI,EAACK,OAAO,CAAC;EAC7B;EAEAW,UAAU,CAAChB,IAAI,EAACG,CAAC,EAACC,CAAC,EAAC;IACnB,IAAI,CAACF,MAAM,CAACF,IAAI,EAACG,CAAC,GAAC,IAAI,CAACT,KAAK,EAACU,CAAC,GAAC,IAAI,CAACT,MAAM,EAAC,IAAI,CAACD,KAAK,EAAC,IAAI,CAACC,MAAM,CAAC;EACpE;EAEAsB,IAAI,CAACjB,IAAI,EAACW,OAAO,EAACR,CAAC,EAACC,CAAC,EAAa;IAAA,IAAXG,IAAI,uEAAC,KAAK;IAChC,MAAMC,MAAM,GAAC,IAAI,CAACZ,KAAK,CAACsB,GAAG,CAAClB,IAAI,CAAC,CAACO,IAAI,GAAC,CAAC,GAAC,CAAC,CAAC;IAC3CI,OAAO,CAACI,SAAS,CAACP,MAAM,EAACL,CAAC,EAACC,CAAC,CAAC;EAC9B;EAEAe,QAAQ,CAACnB,IAAI,EAACW,OAAO,EAACR,CAAC,EAACC,CAAC,EAACgB,QAAQ,EAAC;IAClC,MAAMtB,SAAS,GAAG,IAAI,CAACA,SAAS,CAACoB,GAAG,CAAClB,IAAI,CAAC;IAC1C,IAAI,CAACqB,QAAQ,CAACvB,SAAS,CAACsB,QAAQ,CAAC,EAACT,OAAO,EAACR,CAAC,EAACC,CAAC,CAAC;EAC/C;EAEAiB,QAAQ,CAACrB,IAAI,EAACW,OAAO,EAACR,CAAC,EAACC,CAAC,EAAC;IACzB,IAAI,CAACa,IAAI,CAACjB,IAAI,EAACW,OAAO,EAACR,CAAC,GAAC,IAAI,CAACT,KAAK,EAACU,CAAC,GAAC,IAAI,CAACT,MAAM,CAAC;EACnD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}